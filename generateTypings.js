const fs = require('fs')


function declarationStatement(int) {
    const lines = ['export declare function pipe<']
    for (let i = 0; i < int + 2; i++) {
        lines.push(`\tT${i},`)
    }
    lines.push('>(')
    lines.push('\tvalue: T0,')
    let next
    for (let i = 0; i < int + 1; i++) {
        const current = `T${i}`
        next = `T${i + 1}`
        lines.push(`\tfunc${i}: (value: ${current}) => ${next},`)
    }
    lines.push(`): ${next};`)
    return lines.join('\n')
}


function main() {
    const lines = [
        '// Note: these typings are generated by a script',
        '// See generateTypings.js'
    ]
    for (let i = 0; i < 50; i++) {
        const statement = declarationStatement(i)
        lines.push(statement)
    }
    const joined = lines.join('\n')
    fs.writeFileSync('./dist/index.d.ts', joined)
}


if (require.main === module) {
    main()
}
